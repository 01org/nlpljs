<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/core-icon/core-icon.html">
<link rel="import" href="../bower_components/core-icons/core-icons.html">
<link rel="import" href="../bower_components/core-icons/av-icons.html">
<link rel="import" href="../bower_components/core-icons/editor-icons.html">
<link rel="import" href="../bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="../bower_components/core-item/core-item.html">
<link rel="import" href="./cp-swapper.html">
<link rel="import" href="./cp-sources-selector.html">

<polymer-element name="cp-sources-groups">
  <template>
    <style>
      :host {
        display: block;
        position: relative;
        height: 100%;
        width: 100%;
        overflow-y: auto;
      }

      #panel {
        height: 100%;
      }

      #header {
        background-color: #4CA8B4;
        text-align: left;
        color: white;
        padding-top: 30px;
      }

      #headertext {
        margin: 0;Â 
        font-size: 1.1em;
      }

      #subheading {
        font-size: 0.8em;
      }

      core-item {
        -webkit-user-select: none;
        cursor: pointer;
        margin: 5px 0;
      }

      cp-swapper {
        width: 100%;
        height: 100%;
      }

      cp-swapper, [swapper-fix], [swapper-slide] {
        background-color: #fafafa;
      }
    </style>

    <cp-swapper id="swapper">
      <div swapper-fix>
        <core-header-panel id="panel" flex>
          <core-toolbar id="header" class="medium-tall">
            <paper-icon-button icon="arrow-back"
                              on-tap="{{onBackButtonClick}}">
            </paper-icon-button>

            <div flex>
              <div id="headertext">Groups</div>
              <span id="subheading">Filter content by selecting your sources.</span>
            </div>
          </core-toolbar>

          <core-item icon="editor:insert-photo" label="Images" on-click="{{editSourcesFor}}"></core-item>
          <core-item icon="editor:insert-drive-file" label="Files" on-click="{{editSourcesFor}}"></core-item>
          <core-item icon="folder" label="Articles" on-click="{{editSourcesFor}}"></core-item>
          <core-item icon="editor:format-color-text" label="Quotations" on-click="{{editSourcesFor}}"></core-item>
          <core-item icon="av:movie" label="Videos" on-click="{{editSourcesFor}}"></core-item>
        </core-header-panel>
      </div>

      <cp-sources-selector id="selector"
                  on-close="{{closeSelector}}"
                  swapper-slide swap-id="selector">
      </cp-sources-selector>
    </cp-swapper>
  </template>

  <script>
    (function () {
      Polymer({
        onBackButtonClick: function () {
          this.fire('back');
        },
        editSourcesFor: function (e) {
          var elt = e.toElement;

          this.$.selector.setSources(elt.getAttribute("label"));
          this.$.swapper.slideIn('selector');
        },
        closeSelector: function () {
          this.$.swapper.slideOut('selector');
        }
      });
    })();
  </script>
</polymer-element>
